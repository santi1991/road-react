(this["webpackJsonproad-react"]=this["webpackJsonproad-react"]||[]).push([[0],{2:function(e,t,n){e.exports={App:"App_App__2OXLr","App-logo":"App_App-logo__1vcrh","App-logo-spin":"App_App-logo-spin__1yX5V","App-header":"App_App-header__1ykX0","App-link":"App_App-link__2PuRF",container:"App_container__7gik6","headline-primary":"App_headline-primary__3IXUX",item:"App_item__1jXQ_",button:"App_button__a0N5S",buttonSmall:"App_buttonSmall__3lkLj",buttonLarge:"App_buttonLarge__3yhHu",searchForm:"App_searchForm__1eP-J",label:"App_label__2qADD",input:"App_input__2JOx9"}},24:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var r,l,a,c,o,s,i,u,p,m,b,g,h,d,j,f,O=n(0),E=n.n(O),y=n(17),x=n.n(y),v=(n(24),n(8)),w=n.n(v),_=n(18),S=n(4),C=n(5),I=n(2),T=n.n(I),k=n(19),R=n.n(k),A=["title","titleId"];function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function N(e,t){var n=e.title,E=e.titleId,y=F(e,A);return O.createElement("svg",L({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 297 297",style:{enableBackground:"new 0 0 297 297"},xmlSpace:"preserve",ref:t,"aria-labelledby":E},y),n?O.createElement("title",{id:E},n):null,r||(r=O.createElement("g",null,O.createElement("path",{d:"M113.636,272.638c-2.689,0-5.267-1.067-7.168-2.97L2.967,166.123c-3.956-3.957-3.956-10.371-0.001-14.329l54.673-54.703 c1.9-1.9,4.479-2.97,7.167-2.97c2.689,0,5.268,1.068,7.169,2.969l41.661,41.676L225.023,27.332c1.9-1.901,4.48-2.97,7.168-2.97l0,0 c2.688,0,5.268,1.068,7.167,2.97l54.675,54.701c3.956,3.957,3.956,10.372,0,14.328L120.803,269.668 C118.903,271.57,116.325,272.638,113.636,272.638z M24.463,158.958l89.173,89.209l158.9-158.97l-40.346-40.364L120.803,160.264 c-1.9,1.902-4.478,2.971-7.167,2.971c-2.688,0-5.267-1.068-7.168-2.97l-41.66-41.674L24.463,158.958z"}))),l||(l=O.createElement("g",null)),a||(a=O.createElement("g",null)),c||(c=O.createElement("g",null)),o||(o=O.createElement("g",null)),s||(s=O.createElement("g",null)),i||(i=O.createElement("g",null)),u||(u=O.createElement("g",null)),p||(p=O.createElement("g",null)),m||(m=O.createElement("g",null)),b||(b=O.createElement("g",null)),g||(g=O.createElement("g",null)),h||(h=O.createElement("g",null)),d||(d=O.createElement("g",null)),j||(j=O.createElement("g",null)),f||(f=O.createElement("g",null)))}var P,D,M,B,H,K,U,X,V,z,J,q,Y,Q,G,W,Z=O.forwardRef(N),$=(n.p,["title","titleId"]);function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function te(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function ne(e,t){var n=e.title,r=e.titleId,l=te(e,$);return O.createElement("svg",ee({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 384.923 384.923",style:{enableBackground:"new 0 0 384.923 384.923"},xmlSpace:"preserve",ref:t,"aria-labelledby":r},l),n?O.createElement("title",{id:r},n):null,P||(P=O.createElement("g",null,O.createElement("path",{id:"Arrow_Upward",d:"M321.337,122.567L201.046,3.479c-4.776-4.728-12.391-4.547-17.179,0l-120.291,119.1 c-4.74,4.704-4.74,12.319,0,17.011c4.752,4.704,12.439,4.704,17.191,0l99.551-98.552v331.856c0,6.641,5.438,12.03,12.151,12.03 s12.151-5.39,12.151-12.03V41.025l99.551,98.552c4.74,4.704,12.439,4.704,17.179,0C326.089,134.886,326.089,127.27,321.337,122.567 z"}),O.createElement("g",null),O.createElement("g",null),O.createElement("g",null),O.createElement("g",null),O.createElement("g",null),O.createElement("g",null))),D||(D=O.createElement("g",null)),M||(M=O.createElement("g",null)),B||(B=O.createElement("g",null)),H||(H=O.createElement("g",null)),K||(K=O.createElement("g",null)),U||(U=O.createElement("g",null)),X||(X=O.createElement("g",null)),V||(V=O.createElement("g",null)),z||(z=O.createElement("g",null)),J||(J=O.createElement("g",null)),q||(q=O.createElement("g",null)),Y||(Y=O.createElement("g",null)),Q||(Q=O.createElement("g",null)),G||(G=O.createElement("g",null)),W||(W=O.createElement("g",null)))}var re,le,ae,ce,oe,se,ie,ue,pe,me,be,ge,he,de,je,fe,Oe=O.forwardRef(ne),Ee=(n.p,["title","titleId"]);function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xe(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function ve(e,t){var n=e.title,r=e.titleId,l=xe(e,Ee);return O.createElement("svg",ye({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 384.928 384.928",style:{enableBackground:"new 0 0 384.928 384.928"},xmlSpace:"preserve",ref:t,"aria-labelledby":r},l),n?O.createElement("title",{id:r},n):null,re||(re=O.createElement("g",null,O.createElement("path",{id:"Arrow_Download",d:"M321.339,245.334c-4.74-4.692-12.439-4.704-17.179,0l-99.551,98.564V12.03 c0-6.641-5.438-12.03-12.151-12.03s-12.151,5.39-12.151,12.03v331.868l-99.551-98.552c-4.74-4.704-12.439-4.704-17.179,0 s-4.74,12.319,0,17.011l120.291,119.088c4.692,4.644,12.499,4.644,17.191,0l120.291-119.088 C326.091,257.653,326.091,250.038,321.339,245.334C316.599,240.642,326.091,250.038,321.339,245.334z"}),O.createElement("g",null),O.createElement("g",null),O.createElement("g",null),O.createElement("g",null),O.createElement("g",null),O.createElement("g",null))),le||(le=O.createElement("g",null)),ae||(ae=O.createElement("g",null)),ce||(ce=O.createElement("g",null)),oe||(oe=O.createElement("g",null)),se||(se=O.createElement("g",null)),ie||(ie=O.createElement("g",null)),ue||(ue=O.createElement("g",null)),pe||(pe=O.createElement("g",null)),me||(me=O.createElement("g",null)),be||(be=O.createElement("g",null)),ge||(ge=O.createElement("g",null)),he||(he=O.createElement("g",null)),de||(de=O.createElement("g",null)),je||(je=O.createElement("g",null)),fe||(fe=O.createElement("g",null)))}var we=O.forwardRef(ve),_e=(n.p,n(6)),Se=n(1),Ce={NONE:function(e){return e},TITLE:function(e){return Object(_e.sortBy)(e,"title")},AUTHOR:function(e){return Object(_e.sortBy)(e,"author")},COMMENTS:function(e){return Object(_e.sortBy)(e,"num_comments").reverse()},POINTS:function(e){return Object(_e.sortBy)(e,"points").reverse()}},Ie=function(e){var t=e.column,n=e.sort,r="12",l=t.toUpperCase();return Object(Se.jsxs)("div",{style:{flexDirection:"row"},children:[t,l===n.sortKey&&!0===n.isReverse?Object(Se.jsx)(we,{height:r,width:r,style:{marginLeft:5}}):"",l===n.sortKey&&!1===n.isReverse?Object(Se.jsx)(Oe,{height:r,width:r,style:{marginLeft:5}}):""]})},Te=E.a.memo((function(e){var t=e.list,n=e.onRemoveItem,r=E.a.useState({sortKey:"NONE",isReverse:!1}),l=Object(C.a)(r,2),a=l[0],c=l[1],o=function(e){var t=a.sortKey===e&&!a.isReverse;c({sortKey:e,isReverse:t})},s=Ce[a.sortKey],i=a.isReverse?s(t).reverse():s(t);return Object(Se.jsxs)("div",{children:[Object(Se.jsxs)("div",{style:{display:"flex"},children:[Object(Se.jsx)("span",{style:{width:"40%"},children:Object(Se.jsx)("button",{type:"button",onClick:function(){return o("TITLE")},style:{backgroundColor:"TITLE"===a.sortKey?"#D1C4E9":"white"},children:Object(Se.jsx)(Ie,{column:"Title",sort:a})})}),Object(Se.jsx)("span",{style:{width:"30%"},children:Object(Se.jsx)("button",{type:"button",onClick:function(){return o("AUTHOR")},style:{background:"AUTHOR"===a.sortKey?"#D1C4E9":"white"},children:Object(Se.jsx)(Ie,{column:"Author",sort:a})})}),Object(Se.jsx)("span",{style:{width:"10%"},children:Object(Se.jsx)("button",{type:"button",onClick:function(){return o("COMMENTS")},style:{backgroundColor:"COMMENTS"===a.sortKey?"#D1C4E9":"white"},children:Object(Se.jsx)(Ie,{column:"Comments",sort:a})})}),Object(Se.jsx)("span",{style:{width:"10%"},children:Object(Se.jsx)("button",{type:"button",onClick:function(){return o("POINTS")},style:{backgroundColor:"POINTS"===a.sortKey?"#D1C4E9":"white"},children:Object(Se.jsx)(Ie,{column:"Points",sort:a})})}),Object(Se.jsxs)("span",{style:{width:"10%"},children:[" ","  "," "]})]}),i.map((function(e){return Object(Se.jsx)(ke,{item:e,onRemoveItem:n},e.objectID)}))]})})),ke=E.a.memo((function(e){var t=e.item,n=e.onRemoveItem;return Object(Se.jsxs)("li",{style:{display:"flex",marginTop:10,marginBottom:10},children:[Object(Se.jsx)("span",{style:{width:"40%"},children:Object(Se.jsxs)("a",{href:t.url,children:[t.title," "]})}),Object(Se.jsx)("span",{style:{width:"30%"},children:t.author}),Object(Se.jsx)("span",{style:{width:"10%"},children:t.num_comments}),Object(Se.jsx)("span",{style:{width:"10%"},children:t.points}),Object(Se.jsx)("span",{style:{width:"10%"},children:Object(Se.jsxs)("button",{type:"button",onClick:function(){n(t)},className:"".concat(T.a.button," ").concat(T.a.buttonSmall),children:["Dismiss ",Object(Se.jsx)(Z,{height:"14",width:"14"})]})})]})})),Re=Te,Ae=function(e){var t=e.id,n=e.value,r=e.onInputChange,l=e.isFocused,a=e.type,c=void 0===a?"text":a,o=e.children,s=E.a.useRef();return E.a.useEffect((function(){l&&s.current&&s.current.focus()}),[l]),Object(Se.jsxs)(Se.Fragment,{children:[Object(Se.jsx)("label",{htmlFor:t,className:T.a.label,children:o}),"\xa0",Object(Se.jsx)("input",{ref:s,id:t,type:c,value:n,onChange:r,className:T.a.input})]})},Le=E.a.memo((function(e){var t=e.searchTerm,n=e.onSearchInput,r=e.onSearchSubmit;return Object(Se.jsxs)("form",{onSubmit:r,className:T.a.searchForm,children:[Object(Se.jsx)(Ae,{id:"search",value:t,isFocused:!0,onInputChange:n,children:Object(Se.jsx)("strong",{children:"Search:"})}),Object(Se.jsx)("button",{type:"submit",disabled:!t,className:"".concat(T.a.button," ").concat(T.a.buttonLarge),children:"Submit"})]})})),Fe=function(e){var t=e.lastSearches,n=e.onLastSearch;return Object(Se.jsx)(Se.Fragment,{children:t.map((function(e,t){return Object(Se.jsx)("button",{type:"button",onClick:function(){return n(e)},className:"".concat(T.a.button," ").concat(T.a.buttonSmall),style:{margin:2},children:e},e+t)}))})},Ne="query=",Pe=function(e,t){return"".concat("https://hn.algolia.com/api/v1").concat("/search","?").concat(Ne).concat(e,"&").concat("page=").concat(t)},De=function(e,t){switch(t.type){case"STORIES_FETCH_INIT":return Object(S.a)(Object(S.a)({},e),{},{isLoading:!0,isError:!1});case"STORIES_FETCH_SUCCESS":return Object(S.a)(Object(S.a)({},e),{},{isLoading:!1,isError:!1,data:0===t.payload.page?t.payload.list:e.data.concat(t.payload.list),page:t.payload.page});case"STORIES_FETCH_FAILURE":return Object(S.a)(Object(S.a)({},e),{},{isLoading:!1,isError:!0});case"REMOVE_STORY":return Object(S.a)(Object(S.a)({},e),{},{data:e.data.filter((function(e){return t.payload.objectID!==e.objectID}))});default:throw new Error}},Me=function(e){return e.substring(e.lastIndexOf("?")+1,e.lastIndexOf("&")).replace(Ne,"")},Be=function(){var e=function(e,t){var n=E.a.useRef(!1),r=E.a.useState(localStorage.getItem(e)||t),l=Object(C.a)(r,2),a=l[0],c=l[1];return E.a.useEffect((function(){n.current?localStorage.setItem(e,a):n.current=!0}),[a,e]),[a,c]}("search","React"),t=Object(C.a)(e,2),n=t[0],r=t[1],l=E.a.useState([Pe(n,0)]),a=Object(C.a)(l,2),c=a[0],o=a[1],s=E.a.useReducer(De,{data:[],page:0,isLoading:!1,isError:!1}),i=Object(C.a)(s,2),u=i[0],p=i[1],m=E.a.useMemo((function(){return function(e){return e.data.reduce((function(e,t){return e+t.num_comments}),0)}(u)}),[u]),b=E.a.useCallback((function(e){p({type:"REMOVE_STORY",payload:e})}),[]),g=E.a.useCallback((function(e){r(e.target.value)}),[]),h=E.a.useCallback(Object(_.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p({type:"STORIES_FETCH_INIT"}),e.prev=1,t=c[c.length-1],e.next=5,R.a.get(t);case 5:n=e.sent,p({type:"STORIES_FETCH_SUCCESS",payload:{list:n.data.hits,page:n.data.page}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),p({type:"STORIES_FETCH_FAILURE"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),[c]),d=function(e,t){var n=Pe(e,t);o(c.concat(n))},j=function(e){return e.reduce((function(e,t,n){var r=Me(t);return 0===n?e.concat(r):r===e[e.length-1]?e:e.concat(r)}),[]).slice(-6).slice(0,-1)}(c);return E.a.useEffect((function(){h()}),[h]),Object(Se.jsxs)("div",{className:T.a.container,children:[Object(Se.jsxs)("h4",{style:{margin:0},children:["This project was made as part of the book: ",Object(Se.jsx)("a",{href:"https://www.roadtoreact.com/",rel:"noreferrer",target:"_blank",children:"The Road to React"})]}),Object(Se.jsxs)("h4",{children:["Do not forget to visit my profile: ",Object(Se.jsx)("a",{href:"https://santi1991.github.io/me",rel:"noreferrer",target:"_blank",children:"About me =D !"})]}),Object(Se.jsx)("h1",{style:T.a.headlinePrimary,children:"My Hacker Stories."}),Object(Se.jsxs)("h5",{style:{margin:0},children:["This search has ",m," comments..."]}),Object(Se.jsx)(Le,{searchTerm:n,onSearchInput:g,onSearchSubmit:function(e){d(n,0),e.preventDefault()}}),j.length>0&&Object(Se.jsx)("h5",{style:{margin:0,fontStyle:"italic"},children:"search history:"}),Object(Se.jsx)(Fe,{lastSearches:j,onLastSearch:function(e){r(e),d(e,0)}}),Object(Se.jsx)("hr",{}),u.isError&&Object(Se.jsx)("p",{children:"Something went wrong ..."}),Object(Se.jsx)(Re,{list:u.data,onRemoveItem:b}),u.isLoading?Object(Se.jsx)("p",{children:"Loading ..."}):Object(Se.jsx)("button",{type:"button",onClick:function(){var e=c[c.length-1],t=Me(e);d(t,u.page+1)},className:"".concat(T.a.button," ").concat(T.a.buttonLarge),children:"More..."})]})},He=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,r=t.getFID,l=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),l(e),a(e),c(e)}))};x.a.render(Object(Se.jsx)(E.a.StrictMode,{children:Object(Se.jsx)(Be,{})}),document.getElementById("root")),He()}},[[47,1,2]]]);
//# sourceMappingURL=main.d960cb0d.chunk.js.map